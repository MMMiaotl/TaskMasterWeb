{% extends "base.html" %}

{% block content %}
<div class="container mt-5 mb-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">
            <!-- 进度指示器 -->
            {% include 'task/progress_indicator.html' %}

            <!-- 表单卡片 -->
            <div class="card shadow-sm border-0 rounded-3">
                <div class="card-body p-4">
                    <form method="POST" class="needs-validation" id="task-form" enctype="multipart/form-data" novalidate>
                        {{ form.hidden_tag() }}
                        
                        <!-- 步骤1：服务类别 -->
                        {% include 'task/step1_category.html' %}
                        
                        <!-- 步骤2：服务详情 -->
                        {% include 'task/step2_details.html' %}
                        
                        <!-- 步骤3：时间和预算 -->
                        {% include 'task/step3_time_budget.html' %}
                        
                        <!-- 步骤4：任务描述 -->
                        {% include 'task/step4_description.html' %}
                        
                        <!-- 步骤5：确认发布 -->
                        {% include 'task/step5_confirmation.html' %}
                    </form>
                </div>
            </div>
            
            <!-- 帮助提示 -->
            {% include 'task/help_tips.html' %}
        </div>
    </div>
</div>

{% block styles %}
{% include 'task/form_styles.html' %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/task_form.css') }}">
{% endblock %}

{% block scripts %}
<!-- 引入模块化的JavaScript文件 -->
<script src="{{ url_for('static', filename='js/task_form/form_navigation.js') }}"></script>
<script src="{{ url_for('static', filename='js/task_form/form_validation.js') }}"></script>
<script src="{{ url_for('static', filename='js/task_form/auto_generation.js') }}"></script>
<script src="{{ url_for('static', filename='js/task_form/summary_update.js') }}"></script>
<script src="{{ url_for('static', filename='js/task_form/form_animation.js') }}"></script>
<script src="{{ url_for('static', filename='js/task_form/service_fields.js') }}"></script>
{% endblock %}
{% endblock %}